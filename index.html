<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Learn Git (Cheatsheet)</title>
</head>
<body>
    <h1>Configuration minimale du git</h1>
    <ul>
        <li>
            Définir votre nom de développeur <br>
            <span><em>git config --global user.name "Fullfifax"</em></span>
        </li>
        <li>
            Définir votre adresse email <br>
            <span><em>git config --global user.name "myaccount@gmail.com"</em></span>
        </li>
    </ul>
    <h1>Création d'un dépôt git && Initialisation du dépôt</h1>
    <ul>
        <li>
            Rendez-vous dans le dossier de votre projet<br>
            <span><em>cd nom_du_dossier</em></span>
        </li>
        <li>
            Initialisez git <br>
            <span><em>git init</em></span>
        </li>
    </ul>
    <h1>Ajout du fichier</h1>
    <ul>
        <li>
            Vérifier le status du dépôt git <br>
            <span><em>git status</em></span>
        </li>
        <li>
            Puis ajouter le(s) fichier(s) non suivi(s): (non indexé(s)) <br>
            <span><em>git add nom_du_fichier</em></span>
        </li>
        <li>
            Remarque: Pour le désindéxer <br>
            <span><em>git rm --cached nom_du_fichier</em></span>
        </li>
    </ul>
    <h1>Création de commit</h1>
    <ul>
        <li>
            Pour commiter un ou plusieurs fichiers <br>
            <span><em>git commit -m "Résumé de(s) tâches ou modification(s) que vous avez fait sur les fichiers que vous venez d'indexer"</em></span>
        </li>
        <li>
            Pour voir la liste des commits <br>
            <span><em>git log</em></span> <br>
            <span><em>NB: git log -1 (pour voir le dernier commit)</em></span>
        </li>
        <li>
            Pour rédiger un commit dans un éditeur <br>
            <span><em>git commit -a</em></span> <br>
        </li>
        <li>
            Astuces pour bien rédiger son message de commit: <br>
            <ol>
                <li>Prenez le temps de rédiger un message</li>
                <li>Ajoutez un sujet</li>
                <li>Limitez la taille du sujet à 50 caractères</li>
                <li>Évitez les accents</li>
                <li>Répondez à la question pourquoi ? plutôt que quoi ?</li>
            </ol>
        </li>
    </ul>
    <h1>Manipulation des fichiers suivi par git</h1>
    <ul>
        <li>
            Pour renommer un fichier suivi par git <br>
            <span><em>git mv nom_fichier_à_changer nouveau_nom_fichier</em></span> <br>
            <span><em>git commit -m "Renommer un fichier"</em></span>
        </li>
        <li>
            Pour supprimer un fichier suivi par git <br>
            <ol>
                <li><span><em>git rm nom_fichier</em></span></li>
                <li><span><em>git add nom_fichier_supprimé</em></span></li>
                <li><span><em>git commit -m "Suppression de(s) fichier(s)</em></span></li>
            </ol>
        </li>
    </ul>
    <h1>Ignorer des fichiers désindexés</h1>
    <ul>
        <li>
            Pour ignorer un fichier désindexé (pour avoir un répertoire propre)<br>
            <span><em>Créer un fichier .gitignore</em></span> <br>
            <span><em>Puis ajouter le nom du fichier à ignorer dans ce fichier .gitignore</em></span> <br>
            <span><em>git commit -am "Ajout du fichier inutile dans .gitignore"</em></span>
        </li>
    </ul>
    <h1>Consultation de l'historique</h1>
    <ul>
        <li>
            Les differentes manières pour consulter l'historique sur git<br>
            <span><em>git log (afficher tous les commits)</em></span> <br>
            <span><em>git log --oneline (afficher tous les commits mais avec peu d'informations)</em></span> <br>
            <span><em>git log --before="yyyy-mm-dd" (ex: 2022-10-04) (afficher tous les commits avant la date ...</em></span> <br>
            <span><em>git log nom_fichier (afficher les commits de ce fichier)</em></span>
        </li>
    </ul>
    <h1>Parcourir les différences dans l'historique</h1>
    <ul>
        <li>
            Pour voir la différence entre le répertoire du travail et l'index <br>
            <span><em>git diff</em></span> <br>
        </li>
        <li>
            Pour voir la différence entre l'index et le dépôt git<br>
            <span><em>git diff --cached</em></span> <br>
        </li>
        <li>
            Pour comparer le dépot au répertoire de travail<br>
            <span><em>git diff HEAD</em></span> <br>
        </li>
        <li>
            Pour voir en quoi consiste le dernier commit<br>
            <span><em>git diff HEAD^1</em></span> <br>
        </li>
        <li>
            Pour voir la différence d'un commit précis<br>
            <span><em>git diff hash_du_commit_1 hash_du_commit_2 (git log --oneline pour voir le raccourci du hash du commit)</em></span> <br>
        </li>
    </ul>
    <h1>Rechercher un commit</h1>
    <ul>
        <li>
            Pour rechercher un commit<br>
            <span><em>git log -S "Message du commit"</em></span> <br>
            <span><em>git log -G "Message du commit(ceci|cela)" (ce commit ou l'autre commit)</em></span> 
        </li>
    </ul>
    <h1>Annuler les modifications du répertoire de travail</h1>
    <ul>
        <li>
            Pour annuler les modifications du répertoire de travail<br>
            <span><em>git reset --hard (pour remettre votre répertoire de travail au même état que votre dépôt git</em></span> <br>
            <span><em>git reset (pour remettre les fichiers indexés au même état que votre répertoire de travail</em></span> 
            <span><em>git reset --hard hash_du_commit (pour remettre à ce hash du commit</em></span>             
        </li>
    </ul>
    <h1>Modifier un commit</h1>
    <ul>
        <li>
            Pour modifier un commit<br>
            <span><em>git commit -m "Modification du message commit ici" --amend</em></span> <br>
            <span><em>Rq: git blame nom_fichier (pour voir le contenu d'un fichier)</em></span> 
        </li>
    </ul>
    <h1>Enlever les fichiers non suivis</h1>
    <ul>
        <li>
            Pour enlever les fichier non suivis<br>
            <span><em>git clean -n (pour faire un git clean à blanc, pour voir ce qui serait supprimé si on mettait l'option -f)</em></span> <br>
            <span><em>git clean -dn (dans le cas du dossier)</em></span> <br>
            <span><em>git clean -f (suppression du fichier)</em></span> <br>
            <span><em>git clean -df (suppression du dossier)</em></span> <br>
            <span><em>git clean -xf (suppression des fichiers présents dans .gitignore)</em></span> 
        </li>
    </ul>
    <h1>Lister, créer et changer de branche</h1>
    <ul>
        <li>
            Pour lister les branches existantes <br>
            <span><em>git branch</em></span> 
        </li>
        <li>
            Pour afficher les branches et les commits sous forme de graphe <br>
            <span><em>git log --graph --oneline</em></span> <br>
        </li>
        <li>
            Pour créer une branche <br>
            <span><em>git branch nom_branche</em></span> <br>
        </li>
        <li>
            Pour changer de branche <br>
            <span><em>git checkout nom_branche</em></span> <br>
        </li>
    </ul>
    <h1>Fusionner des branches</h1>
    <ul>
        <li>
            Pour fusionner des branches <br>
            <span><em>git merge nom_branche</em></span>
        </li>
    </ul>
    <h1>Supprimer une branche</h1>
    <ul>
        <li>
            Pour supprimer une branche <br>
            <span><em>git branch -d nom_branche</em></span>
        </li>
    </ul>
    <h1>Créer un rebasage d'une branche</h1>
    <ul>
        <li>
            Rebase: intégration directement des modifications d'une autre branche vers la branche principale<br>
            <span><em>git rebase nom_branche</em></span>
        </li>
    </ul>
    <h1>Gérer les tags</h1>
    <ul>
        <li>
            Pour créer un tag <br>
            <span><em>git tag v1.0.0 hash_du_commit (v1.0.0: nom de la version)</em></span>
        </li>
        <li>
            Pour afficher la liste des tags <br>
            <span><em>git tag --list</em></span>
        </li>
        <li>
            Pour afficher les détails du tag <br>
            <span><em>git show tag v1.0.0</em></span>
        </li>
        <li>
            Pour ajouter une annotation à un tag <br>
            <span><em>git tag -a v1.0.0 hash_du_commit -m "Résumé de la version ..."</em></span>
        </li>
    </ul>
    <h1>Créer un dépôt distant</h1>
    <ul>
        <li>
            Pour créer un dépôt distant (NB: Pas de source existant) <br>
            <span><em>git init --bare nom_depot_distant</em></span>
        </li>
        <li>
            Pour créer un dépôt distant à partir d'une source existante <br>
            <span><em>cd ../nom_dossier_depot_local</em></span> <br>
            <span><em>git clone --bare nom_depot_local/ nom_depot_distant</em></span>
        </li>
    </ul>
    <h1>Envoyer ses modifications avec push</h1>
    <ul>
        <li>
            Pour envoyer ses modifications <br>
            <span><em>git remote add origin acces_depot_distant (URL ou Chemin)</em></span> <br>
            <span><em>git push origin master</em></span>
        </li>
    </ul>
    <h1>Mettre à jour avec fetch && pull</h1>
    <ul>
        <li>
            Pour mettre à jour les copies de branches distants au dépôt local <br>
            <span><em>git fetch</em></span> <br>
        </li>
        <li>
            Pour récuperer les dernières modifications du dépôt distant (Pour avoir un dépot local à jour)<br>
            <span><em>git pull origin master</em></span> <br>
        </li>
    </ul>
    <h1>Créer et supprimer une branche distante</h1>
    <ul>
        <li>
            Dans le dépôt local <br>
            <span><em>git branch nom_branche</em></span> <br>
            <span><em>git push origin nom_branche</em></span>
        </li>
        <li>
            Pour la récuperer (pour les autres dépôts locaux)<br>
            <span><em>git pull origin nom_branche</em></span>
        </li>
        <li>
            Pour créer une branche dans le dépôt local -> distant<br>
            <span><em>git checkout -b nom_branche origin/nom_branche (orgin/nom_branche: c'est l'adresse)</em></span>
        </li>
        <li>
            Pour supprimer une branche distante<br>
            <span><em>git push origin :nom_branche_distante</em></span> <br>
            <span><em>git branch -d nom_branche_locale</em></span>
        </li>
    </ul>
</body>
</html>